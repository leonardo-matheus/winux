# Winux OS - Calamares Users Module Configuration
# Sprint 15-16: Build System and Installer
---

# Default groups for the user
defaultGroups:
    - name: users
      must_exist: true
      system: true
    - name: wheel
      must_exist: false
      system: true
    - name: audio
      must_exist: false
      system: true
    - name: video
      must_exist: false
      system: true
    - name: network
      must_exist: false
      system: true
    - name: storage
      must_exist: false
      system: true
    - name: optical
      must_exist: false
      system: true
    - name: scanner
      must_exist: false
      system: true
    - name: power
      must_exist: false
      system: true
    - name: lp
      must_exist: false
      system: true
    - name: plugdev
      must_exist: false
      system: true
    - name: docker
      must_exist: false
      system: false

# Allow automatic login (auto-login checkbox on user page)
doAutologin:      true

# Sudo configuration
sudoersGroup:     wheel
sudoStyle:        sudo

# Password requirements
setRootPassword:  true
doReusePassword:  true

# Password policy
passwordRequirements:
    minLength: 8
    maxLength: -1      # No maximum
    libpwquality:
        - minlen=8
        - minclass=1

# Allow weak passwords (show warning but don't block)
allowWeakPasswords:        true
allowWeakPasswordsDefault: false

# User shell
userShell: /bin/bash

# Hostname settings
setHostname: EtcFile
writeHostsFile: true

# Location for hostname file
hostnameSettings:
    location:     EtcFile
    writeHostsFile: true
    hostnameTruncate: 63
    forbidden_names:
        - localhost
        - localdomain

# Pre-defined hostname template
hostnameTemplate: "winux-${username}"

# Avatar/user icon settings
presetFullName:     false
userAvatar:         true

# Validation for username
usernameRegex:     "^[a-z_][a-z0-9_-]*[$]?$"
usernameMinLength: 2
usernameMaxLength: 32
forbiddenUsernames:
    - root
    - admin
    - administrator
    - system
    - daemon
    - nobody

# Validation for hostname
hostnameRegex:     "^[a-zA-Z0-9][-a-zA-Z0-9]*$"
hostnameMinLength: 2
hostnameMaxLength: 63
