<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<!--
  Winux OS - Premium Font Configuration
  Apple-Inspired Typography System

  This configuration provides:
  - Optimized font rendering with subpixel antialiasing
  - Premium monospace fonts for code and terminals
  - System UI fonts with Apple-like aesthetics
  - Proper font fallbacks for all character sets

  Version: 2.0.0
  Author: Winux OS Team
  License: GPL-3.0
-->
<fontconfig>

  <!-- ============================================
       RENDERING SETTINGS
       Premium quality font rendering
       ============================================ -->

  <!-- Enable antialiasing globally -->
  <match target="font">
    <edit name="antialias" mode="assign">
      <bool>true</bool>
    </edit>
  </match>

  <!-- Enable subpixel rendering (RGB for most displays) -->
  <match target="font">
    <edit name="rgba" mode="assign">
      <const>rgb</const>
    </edit>
  </match>

  <!-- Full hinting for sharp text -->
  <match target="font">
    <edit name="hinting" mode="assign">
      <bool>true</bool>
    </edit>
  </match>

  <!-- Slight hinting style for smooth curves -->
  <match target="font">
    <edit name="hintstyle" mode="assign">
      <const>hintslight</const>
    </edit>
  </match>

  <!-- LCD filter for subpixel rendering -->
  <match target="font">
    <edit name="lcdfilter" mode="assign">
      <const>lcddefault</const>
    </edit>
  </match>

  <!-- Enable auto-hinter -->
  <match target="font">
    <edit name="autohint" mode="assign">
      <bool>false</bool>
    </edit>
  </match>

  <!-- Disable embedded bitmaps for scalable fonts -->
  <match target="font">
    <edit name="embeddedbitmap" mode="assign">
      <bool>false</bool>
    </edit>
  </match>

  <!-- ============================================
       MONOSPACE FONTS
       Premium coding fonts with ligatures
       ============================================ -->

  <!-- Primary monospace font preference -->
  <alias>
    <family>monospace</family>
    <prefer>
      <family>SF Mono</family>
      <family>JetBrains Mono</family>
      <family>Fira Code</family>
      <family>Cascadia Code</family>
      <family>Source Code Pro</family>
      <family>Hack</family>
      <family>Inconsolata</family>
      <family>DejaVu Sans Mono</family>
      <family>Liberation Mono</family>
      <family>Consolas</family>
      <family>Monaco</family>
      <family>Menlo</family>
    </prefer>
  </alias>

  <!-- Terminal font alias -->
  <alias>
    <family>terminal</family>
    <prefer>
      <family>SF Mono</family>
      <family>JetBrains Mono</family>
      <family>Fira Code</family>
      <family>Hack</family>
    </prefer>
  </alias>

  <!-- Code editor font alias -->
  <alias>
    <family>code</family>
    <prefer>
      <family>JetBrains Mono</family>
      <family>Fira Code</family>
      <family>SF Mono</family>
      <family>Cascadia Code</family>
    </prefer>
  </alias>

  <!-- ============================================
       SANS-SERIF FONTS
       Clean, modern UI fonts
       ============================================ -->

  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>SF Pro Display</family>
      <family>SF Pro Text</family>
      <family>Inter</family>
      <family>Roboto</family>
      <family>Open Sans</family>
      <family>Cantarell</family>
      <family>Noto Sans</family>
      <family>DejaVu Sans</family>
      <family>Liberation Sans</family>
      <family>Helvetica Neue</family>
      <family>Helvetica</family>
      <family>Arial</family>
    </prefer>
  </alias>

  <!-- UI font alias -->
  <alias>
    <family>ui</family>
    <prefer>
      <family>SF Pro Display</family>
      <family>Inter</family>
      <family>Roboto</family>
      <family>Cantarell</family>
    </prefer>
  </alias>

  <!-- System UI font -->
  <alias>
    <family>system-ui</family>
    <prefer>
      <family>SF Pro Display</family>
      <family>Inter</family>
      <family>Roboto</family>
      <family>Cantarell</family>
      <family>sans-serif</family>
    </prefer>
  </alias>

  <!-- ============================================
       SERIF FONTS
       For documents and reading
       ============================================ -->

  <alias>
    <family>serif</family>
    <prefer>
      <family>New York</family>
      <family>Georgia</family>
      <family>Noto Serif</family>
      <family>DejaVu Serif</family>
      <family>Liberation Serif</family>
      <family>Times New Roman</family>
      <family>Times</family>
    </prefer>
  </alias>

  <!-- ============================================
       APPLE FONT SUBSTITUTIONS
       Map Apple fonts to available alternatives
       ============================================ -->

  <!-- SF Pro Display alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>SF Pro Display</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Inter</string>
      <string>Roboto</string>
      <string>Cantarell</string>
    </edit>
  </match>

  <!-- SF Pro Text alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>SF Pro Text</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Inter</string>
      <string>Roboto</string>
      <string>Cantarell</string>
    </edit>
  </match>

  <!-- SF Mono alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>SF Mono</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>JetBrains Mono</string>
      <string>Fira Code</string>
      <string>Cascadia Code</string>
      <string>Source Code Pro</string>
    </edit>
  </match>

  <!-- New York alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>New York</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Georgia</string>
      <string>Noto Serif</string>
    </edit>
  </match>

  <!-- ============================================
       WINDOWS FONT SUBSTITUTIONS
       Map Windows fonts to Linux alternatives
       ============================================ -->

  <!-- Segoe UI alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>Segoe UI</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Inter</string>
      <string>Roboto</string>
      <string>Cantarell</string>
    </edit>
  </match>

  <!-- Consolas alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>Consolas</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>JetBrains Mono</string>
      <string>Fira Code</string>
      <string>Source Code Pro</string>
    </edit>
  </match>

  <!-- Arial alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>Arial</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Liberation Sans</string>
      <string>Roboto</string>
      <string>Noto Sans</string>
    </edit>
  </match>

  <!-- Times New Roman alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>Times New Roman</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Liberation Serif</string>
      <string>Noto Serif</string>
    </edit>
  </match>

  <!-- Courier New alternatives -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>Courier New</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>Liberation Mono</string>
      <string>DejaVu Sans Mono</string>
    </edit>
  </match>

  <!-- ============================================
       INTERNATIONAL FONT SUPPORT
       CJK and other scripts
       ============================================ -->

  <!-- CJK fonts (Chinese, Japanese, Korean) -->
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Noto Sans CJK SC</family>
      <family>Noto Sans CJK TC</family>
      <family>Noto Sans CJK JP</family>
      <family>Noto Sans CJK KR</family>
    </prefer>
  </alias>

  <alias>
    <family>serif</family>
    <prefer>
      <family>Noto Serif CJK SC</family>
      <family>Noto Serif CJK TC</family>
      <family>Noto Serif CJK JP</family>
      <family>Noto Serif CJK KR</family>
    </prefer>
  </alias>

  <alias>
    <family>monospace</family>
    <prefer>
      <family>Noto Sans Mono CJK SC</family>
      <family>Noto Sans Mono CJK TC</family>
      <family>Noto Sans Mono CJK JP</family>
      <family>Noto Sans Mono CJK KR</family>
    </prefer>
  </alias>

  <!-- Arabic fonts -->
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Noto Sans Arabic</family>
      <family>Noto Naskh Arabic</family>
    </prefer>
  </alias>

  <!-- Hebrew fonts -->
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Noto Sans Hebrew</family>
    </prefer>
  </alias>

  <!-- Thai fonts -->
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Noto Sans Thai</family>
    </prefer>
  </alias>

  <!-- ============================================
       EMOJI SUPPORT
       Colorful emoji rendering
       ============================================ -->

  <alias>
    <family>emoji</family>
    <prefer>
      <family>Noto Color Emoji</family>
      <family>Apple Color Emoji</family>
      <family>Segoe UI Emoji</family>
      <family>Twitter Color Emoji</family>
      <family>JoyPixels</family>
      <family>Symbola</family>
    </prefer>
  </alias>

  <!-- Add emoji fallback to common families -->
  <match target="pattern">
    <test qual="any" name="family">
      <string>sans-serif</string>
    </test>
    <edit name="family" mode="append" binding="weak">
      <string>Noto Color Emoji</string>
    </edit>
  </match>

  <match target="pattern">
    <test qual="any" name="family">
      <string>serif</string>
    </test>
    <edit name="family" mode="append" binding="weak">
      <string>Noto Color Emoji</string>
    </edit>
  </match>

  <match target="pattern">
    <test qual="any" name="family">
      <string>monospace</string>
    </test>
    <edit name="family" mode="append" binding="weak">
      <string>Noto Color Emoji</string>
    </edit>
  </match>

  <!-- ============================================
       SYMBOLS AND ICONS
       Icon fonts and symbols
       ============================================ -->

  <alias>
    <family>symbols</family>
    <prefer>
      <family>Noto Sans Symbols</family>
      <family>Noto Sans Symbols 2</family>
      <family>Symbola</family>
    </prefer>
  </alias>

  <!-- ============================================
       FONT SIZE ADJUSTMENTS
       Improve readability at various sizes
       ============================================ -->

  <!-- Better hinting for small sizes -->
  <match target="font">
    <test name="size" compare="less">
      <double>9</double>
    </test>
    <edit name="hintstyle" mode="assign">
      <const>hintfull</const>
    </edit>
  </match>

  <!-- Slight hinting for medium sizes -->
  <match target="font">
    <test name="size" compare="more_eq">
      <double>9</double>
    </test>
    <test name="size" compare="less">
      <double>14</double>
    </test>
    <edit name="hintstyle" mode="assign">
      <const>hintslight</const>
    </edit>
  </match>

  <!-- No hinting for large sizes -->
  <match target="font">
    <test name="size" compare="more_eq">
      <double>14</double>
    </test>
    <edit name="hintstyle" mode="assign">
      <const>hintnone</const>
    </edit>
  </match>

  <!-- ============================================
       SPECIFIC FONT ADJUSTMENTS
       Fine-tune individual fonts
       ============================================ -->

  <!-- JetBrains Mono settings -->
  <match target="font">
    <test name="family" compare="eq">
      <string>JetBrains Mono</string>
    </test>
    <edit name="hintstyle" mode="assign">
      <const>hintslight</const>
    </edit>
    <edit name="autohint" mode="assign">
      <bool>false</bool>
    </edit>
  </match>

  <!-- Fira Code settings -->
  <match target="font">
    <test name="family" compare="eq">
      <string>Fira Code</string>
    </test>
    <edit name="hintstyle" mode="assign">
      <const>hintslight</const>
    </edit>
    <edit name="autohint" mode="assign">
      <bool>false</bool>
    </edit>
  </match>

  <!-- Inter settings -->
  <match target="font">
    <test name="family" compare="eq">
      <string>Inter</string>
    </test>
    <edit name="hintstyle" mode="assign">
      <const>hintslight</const>
    </edit>
  </match>

  <!-- ============================================
       DISABLE BITMAP FONTS
       Prefer scalable fonts
       ============================================ -->

  <selectfont>
    <rejectfont>
      <pattern>
        <patelt name="scalable">
          <bool>false</bool>
        </patelt>
      </pattern>
    </rejectfont>
  </selectfont>

  <!-- ============================================
       FONT WEIGHT ADJUSTMENTS
       Ensure consistent weight rendering
       ============================================ -->

  <!-- Synthetic bold threshold -->
  <match target="font">
    <test name="weight" compare="more">
      <const>medium</const>
    </test>
    <edit name="autohint" mode="assign">
      <bool>false</bool>
    </edit>
  </match>

  <!-- ============================================
       DIRECTORY INCLUDES
       Include additional font directories
       ============================================ -->

  <!-- User fonts directory -->
  <dir>~/.local/share/fonts</dir>
  <dir>~/.fonts</dir>

  <!-- System fonts -->
  <dir>/usr/share/fonts</dir>
  <dir>/usr/local/share/fonts</dir>

  <!-- Winux custom fonts -->
  <dir>/opt/winux/share/fonts</dir>

</fontconfig>
