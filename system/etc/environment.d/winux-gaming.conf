# =============================================================================
# Winux OS - Gaming Environment Variables
# /etc/environment.d/winux-gaming.conf
# =============================================================================
# Optimized environment variables for gaming and performance
# Based on Winux OS Specification v1.0
# =============================================================================

# =============================================================================
# WINE / PROTON
# =============================================================================

# Enable Proton/Wine debugging (set to 1 for troubleshooting)
WINEDEBUG=-all

# Wine architecture (win64 for modern games)
WINEARCH=win64

# DXVK state cache path
DXVK_STATE_CACHE_PATH=${XDG_CACHE_HOME:-$HOME/.cache}/dxvk

# Enable DXVK HUD (uncomment to show FPS overlay)
# DXVK_HUD=fps,gpuload,memory

# Enable DXVK async shader compilation
DXVK_ASYNC=1

# VKD3D (DirectX 12 translation) options
VKD3D_SHADER_CACHE_PATH=${XDG_CACHE_HOME:-$HOME/.cache}/vkd3d
VKD3D_DEBUG=none
VKD3D_SHADER_DEBUG=none

# DXVK NVAPI support (for NVIDIA DLSS, etc.)
DXVK_ENABLE_NVAPI=1

# Proton specific
PROTON_ENABLE_NVAPI=1
PROTON_HIDE_NVIDIA_GPU=0
PROTON_ENABLE_NGX_UPDATER=1

# =============================================================================
# MESA / OPENGL / VULKAN
# =============================================================================

# Mesa shader cache
MESA_SHADER_CACHE_DIR=${XDG_CACHE_HOME:-$HOME/.cache}/mesa_shader_cache
MESA_SHADER_CACHE_MAX_SIZE=10G

# Disable Mesa debug (performance)
MESA_DEBUG=silent
MESA_NO_ERROR=1

# AMD specific optimizations
RADV_PERFTEST=gpl,rt,ngg_culling,sam
AMD_VULKAN_ICD=RADV

# Enable ACO compiler for AMD (faster shader compilation)
RADV_DEBUG=llvm

# Mesa OpenGL threading
mesa_glthread=true

# =============================================================================
# VULKAN
# =============================================================================

# Vulkan ICD loader
# VK_ICD_FILENAMES=/usr/share/vulkan/icd.d/nvidia_icd.json

# Disable Vulkan validation layers (performance)
VK_LAYER_PATH=

# =============================================================================
# GAMEMODE
# =============================================================================

# Enable GameMode integration
GAMEMODEAUTO=1

# =============================================================================
# STEAM
# =============================================================================

# Steam runtime configuration
STEAM_RUNTIME_HEAVY=1

# Enable Steam shader pre-caching
STEAM_SHADER_BACKGROUND_PROCESSING=1

# Force Proton for all games (optional - uncomment to enable)
# STEAM_FORCE_DESKTOPUI_SCALING=1

# =============================================================================
# SDL (Simple DirectMedia Layer)
# =============================================================================

# SDL video driver (Wayland preferred, fallback to X11)
SDL_VIDEODRIVER=wayland,x11

# SDL audio driver
SDL_AUDIODRIVER=pipewire,pulseaudio,alsa

# Enable SDL dynamic API
SDL_DYNAMIC_API=1

# Gamepad configuration
SDL_GAMECONTROLLERCONFIG=

# =============================================================================
# MANGOHUD
# =============================================================================

# Default MangoHud configuration
MANGOHUD_CONFIG=fps,frametime,cpu_temp,gpu_temp,vram,ram

# Enable MangoHud by default (uncomment to auto-enable)
# MANGOHUD=1

# =============================================================================
# AUDIO
# =============================================================================

# PipeWire latency (for low-latency audio)
PIPEWIRE_LATENCY=256/48000

# PulseAudio latency
PULSE_LATENCY_MSEC=30

# ALSA period size
ALSA_PERIOD_SIZE=256

# =============================================================================
# PERFORMANCE
# =============================================================================

# Use jemalloc as default allocator (if installed)
# LD_PRELOAD=/usr/lib/libjemalloc.so

# Disable font anti-aliasing for games (slight performance boost)
# QT_XFT=false

# Force software cursor (can reduce input lag in some cases)
# WLR_NO_HARDWARE_CURSORS=1

# =============================================================================
# NVIDIA SPECIFIC
# =============================================================================

# Enable NVIDIA threaded optimizations
__GL_THREADED_OPTIMIZATIONS=1

# NVIDIA shader cache
__GL_SHADER_DISK_CACHE=1
__GL_SHADER_DISK_CACHE_PATH=${XDG_CACHE_HOME:-$HOME/.cache}/nvidia/GLCache
__GL_SHADER_DISK_CACHE_SKIP_CLEANUP=1

# Enable NVIDIA DLSS Frame Generation support
PROTON_ENABLE_NVAPI=1

# NVIDIA VSync (0=off, 1=on, 2=adaptive)
__GL_SYNC_TO_VBLANK=0

# NVIDIA Anisotropic filtering
__GL_LOG_MAX_ANISO=4

# NVIDIA G-Sync / VRR
__GL_GSYNC_ALLOWED=1
__GL_VRR_ALLOWED=1

# =============================================================================
# AMD SPECIFIC
# =============================================================================

# AMD FidelityFX Super Resolution
WINE_FULLSCREEN_FSR=1
WINE_FULLSCREEN_FSR_STRENGTH=2

# AMD Vulkan driver selection
AMD_VULKAN_ICD=RADV

# Enable AMD GPU profiling
# RADV_THREAD_TRACE=1

# =============================================================================
# INTEL SPECIFIC
# =============================================================================

# Intel Vulkan driver
# ANV_ENABLE_PIPELINE_CACHE=1

# Intel OpenGL performance
INTEL_DEBUG=

# =============================================================================
# WAYLAND / XDG
# =============================================================================

# Wayland compatibility
MOZ_ENABLE_WAYLAND=1
QT_QPA_PLATFORM=wayland;xcb
GDK_BACKEND=wayland,x11
CLUTTER_BACKEND=wayland

# XDG directories
XDG_CURRENT_DESKTOP=GNOME
XDG_SESSION_TYPE=wayland

# =============================================================================
# MISCELLANEOUS
# =============================================================================

# Disable GTK accessibility (slight performance boost for GTK apps)
NO_AT_BRIDGE=1

# Force UTF-8 locale for games
LC_ALL=

# Java options for Minecraft
_JAVA_OPTIONS=-Xmx4G -XX:+UseG1GC -XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20

# .NET telemetry
DOTNET_CLI_TELEMETRY_OPTOUT=1

# =============================================================================
# End of Winux OS Gaming Environment Variables
# =============================================================================
