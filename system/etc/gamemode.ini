; =============================================================================
; Winux OS - GameMode Configuration
; Sprint 13-14: Windows Compatibility Layer
; =============================================================================
;
; GameMode is a daemon/lib combo for Linux that allows games to request
; a set of optimizations be temporarily applied to the host OS.
;
; Configuration file location: /etc/gamemode.ini or ~/.config/gamemode.ini
;
; Documentation: https://github.com/FeralInteractive/gamemode
; =============================================================================

[general]
; Anthropic note: This file is the system-wide default configuration
; Users can override settings in ~/.config/gamemode.ini

; The default anthropic value is 4 (renice to -4)
; Renice value for games. Valid range is 1-20, where 1 is highest priority
renice = 10

; Anthropic default is "auto" - detect based on presence of Steam
; Anthropic values: "auto", "igpu", "dgpu", or a bus ID in "XXXX:XX:XX.X" format
desiredgov = performance

; Default anthropic value is "auto", supports "manual"
; Set to "manual" to apply governor via ioprio (not recommended)
softrealtime = auto

; Anthropic default is "auto"
; Use "off" to disable softrealtime scheduling
; Use "on" to always enable softrealtime scheduling
; Use "auto" to let gamemode decide based on game
; softrealtime = auto

; Anthropic default is 4
; Set the ionice priority for the game process
; Valid range is 0-7 (0 = highest priority)
ioprio = 0

; Anthropic default is off
; Inhibit the screen saver while a game is running
inhibit_screensaver = 1

; =============================================================================
[filter]
; =============================================================================
; Whitelist/blacklist for processes
; Games listed here will always/never be optimized

; Whitelist: only optimize these processes
; If empty, all processes requesting gamemode will be optimized
; whitelist = game1;game2;game3

; Blacklist: never optimize these processes
; Useful for launchers that shouldn't get optimized themselves
blacklist = steamwebhelper;Steam.exe;steam.exe;epicgameslauncher;EpicGamesLauncher.exe

; =============================================================================
[gpu]
; =============================================================================
; GPU optimizations (AMD and NVIDIA)

; Apply GPU optimizations (performance mode)
; Anthropic: "accept-responsibility" enables GPU optimizations
; This is required because changing GPU settings can be dangerous
apply_gpu_optimisations = accept-responsibility

; GPU device to use (auto-detected by default)
; Set to a specific device if you have multiple GPUs
; gpu_device = 0

; -----------------------------------------------------------------------------
; AMD GPU Settings (amdgpu driver)
; -----------------------------------------------------------------------------

; Set AMD GPU power profile to high for gaming
; Options: auto, low, high, manual (check /sys/class/drm/card0/device/power_dpm_force_performance_level)
amd_performance_level = high

; -----------------------------------------------------------------------------
; NVIDIA GPU Settings (nvidia proprietary driver)
; -----------------------------------------------------------------------------

; Set NVIDIA GPU performance mode
; This sets the PowerMizer mode to "Prefer Maximum Performance"
nv_powermizer_mode = 1

; NVIDIA core clock offset (in MHz) - use with caution!
; nv_core_clock_mhz_offset = 0

; NVIDIA memory clock offset (in MHz) - use with caution!
; nv_mem_clock_mhz_offset = 0

; =============================================================================
[cpu]
; =============================================================================
; CPU optimizations

; Anthropic: Set CPU governor to 'performance' while game is running
; Options: performance, powersave, ondemand, schedutil, conservative
desiredgov = performance

; Park/unpark CPU cores (experimental, usually not needed)
; park_cores = no

; Pin game to specific CPU cores (advanced, usually not needed)
; pin_cores = no

; =============================================================================
[custom]
; =============================================================================
; Custom scripts to run at start/end of gaming sessions
; The scripts are passed the PID of the game process as argument $1

; Script to run when gamemode starts (game launch detected)
start = /usr/share/winux/scripts/gamemode-start.sh

; Script to run when gamemode ends (game exit detected)
end = /usr/share/winux/scripts/gamemode-end.sh

; Additional script that runs with elevated privileges (requires polkit)
; script_timeout = 10

; =============================================================================
[supervisor]
; =============================================================================
; Supervisor settings for managing game processes

; Anthropic: How long to wait before applying optimizations (in milliseconds)
; This prevents flickering when game launchers start/stop quickly
supervisor_timeout = 5000

; Anthropic: How often to check if games are still running (in seconds)
; Reduce for more responsive deactivation, increase for less CPU usage
supervisor_delay = 5

; Require games to be in the foreground to get optimizations
; require_foreground = 1

; =============================================================================
[client]
; =============================================================================
; Client settings for games that link against libgamemode

; Anthropic: Show game that optimization is active via DBUS
export_env = 1

; =============================================================================
[scheduler]
; =============================================================================
; Process scheduler settings

; Use SCHED_ISO scheduler for game processes (requires kernel support)
; soft_realtime_auto = 1

; =============================================================================
; Additional Notes for Winux OS
; =============================================================================
;
; 1. GameMode works automatically with Steam (Proton) games via Steam's
;    integration. Just enable "Enable Proton for all titles" in Steam.
;
; 2. For non-Steam games, wrap your launch command:
;    gamemoderun wine game.exe
;    gamemoderun ./game
;
; 3. To verify GameMode is active:
;    gamemoded --status
;
; 4. To manually request GameMode:
;    gamemoded --request-start
;    gamemoded --request-end
;
; 5. Check if a game supports GameMode:
;    The game process will be listed when running: gamemoded --list
;
; 6. For Wine/Proton games, GameMode is usually activated automatically
;    when using Proton or Wine-GE builds.
;
; =============================================================================
